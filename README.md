# timestamper
Create a timestamped video from a still image, an audio file, and a start time.

## How to run it

```bash
./timestamps.sh <seed-time> <audio> <image> <output> <x-offset> <y-offset> <colour> <seconds> <border-colour>
```

Only `seed-time` is compulsory, but if you want to specify a certain argument, you will also have to specify each argument before it.
To retain default behaviour, use the defaults listed in the table below.

Argument           | Default     | Description 
-------------------|-------------|-------------
`<seed-time>`      | N/A         | The starting timestamp. It should be in the format `yyyy-mm-dd hh:mm`.
`<audio>`          | `audio.mp3` | The filename of the audio file.
`<image>`          | `image.jpg` | The filename of the image file.
`<output>`         | `output`    | The filename of the output video file (without the `.mp4` extension).
`<x-offset>`       | `65`        | How offset the timestamp should be from the left side of the screen.
`<y-offset>`       | `65`        | How offset the timestamp should be from the top of the screen.
`<colour>`         | `white`     | The colour of the timestamp text.
`<seconds>`        | `00`        | The seconds of the seed time.
`<border-colour>`  | ` `         | The colour of the text border - omit if not desired.

### Understanding the output

The key things to look for are what appears after `time=` (this is how far it is through the audio file), and what appears after `speed=` (this is how fast it is going through the audio file (e.g. 2x means it will take 1 hour to create a video from a 2-hour video)).

### Pre-requisites

Install `ffmpeg`.

### Example

You can generate a video using files in the `sample` folder using the command below. The video this will generate can be seen at https://youtu.be/c1mW156rfa4.

```bash
./timestamps.sh 2012-12-01 06:35 sample/recording.mp3 sample/background.jpg generated_video 200 100 black 30
```

## Splitting videos

If your videos are too long (e.g. because YouTube has a 12-hour limit for uploads), you can split them using `./split.sh`. This doesn't re-encode the video so it doesn't take long to process.

You specify each time (in seconds or as a timestamp) the video is split - you can specify as many as you want. The last one can be after the end of the video and it will end when the video ends (this is recommended to make sure you get right up to the end).

```bash
./split.sh <input-video> <output-name> <first-crop-time> <second-crop-time> ... <nth-crop-time>
```

Argument            | Description 
--------------------|-------------
`<input-video>`     | The filename of the video to split.
`<output-name>`     | The start of the output filenames. They will (by default) be named `output_000.mp4`, `output_001.mp4`, etc.
`<first-crop-time>` | The first crop time (in seconds).
`<second-crop-time>`| The second crop time (in seconds).
`<nth-crop-time>`   | The nth crop time (in seconds).

### Example

You can split the video generated by the `timestamps` example using either of the commands below. This will generate the video files `gen_vid_0.mp4`, `gen_vid_1.mp4`, `gen_vid_2.mp4`, and `gen_vid_3.mp4`. 

```bash
./split.sh generated_video.mp4 gen_vid 30 60 90 3600
```

or 

```bash
./split.sh generated_video.mp4 gen_vid 00:00:30 00:01:00 00:01:30 01:00:00
```
